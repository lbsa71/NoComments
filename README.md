# NoCommentsAnalyzer

A Roslyn analyzer that forbids comments in C# code that don't contain the shibboleth "[!]".

## What it does

This analyzer scans your C# code for comments and reports a diagnostic `NC0001` for any comment that doesn't include the marker `[!]`. This helps ensure that comments in your codebase are intentionally written by humans and not generated by AI tools.

The analyzer also provides a code fix that automatically removes unauthorized comments when using `dotnet format` or IDE quick fixes.

### Allowed comments

- XML documentation comments (e.g., `/// <summary>` comments) - these are always allowed
- Any comment containing the `[!]` marker, for example:
  - `// [!] This is an allowed comment`
  - `/* [!] This is also allowed */`

### Forbidden comments

- `// This comment will trigger NC0001`
- `/* This comment will also trigger NC0001 */`

## Installation

Install via NuGet:

```bash
dotnet add package NoCommentsAnalyzer
```

## Usage

Once installed, the analyzer will automatically run during compilation and report warnings for any unauthorized comments.

### Code Fixes

The analyzer provides automatic code fixes to remove unauthorized comments:

- **IDE Integration**: Use the light bulb (ðŸ’¡) quick fix in Visual Studio, VS Code, or other IDEs to remove individual unauthorized comments
- **Batch Formatting**: Use `dotnet format` to automatically remove all unauthorized comments from your codebase:

```bash
dotnet format
```

The code fix will only remove comments that don't contain the `[!]` marker, preserving all authorized human-written comments.

## Configuration

The analyzer runs with default severity of `Warning`. You can configure it in your `.editorconfig` or project file:

```ini
# .editorconfig
[*.cs]
dotnet_diagnostic.NC0001.severity = error
```

## License

MIT